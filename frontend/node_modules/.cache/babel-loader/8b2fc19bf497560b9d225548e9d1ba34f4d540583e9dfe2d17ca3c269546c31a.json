{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=()=>{const[products,setProucts]=useState([]);useEffect(()=>{getProducts();},[]);const getProducts=async()=>{let result=await fetch('http://localhost:5000/products');result=await result.json();setProucts(result);};const deleteProduct=async id=>{console.warn(id);let result=await fetch(\"http://localhost:5000/products/\".concat(id),{method:\"Delete\"});result=await result.json();if(result){getProducts();alert(\"Product deleted\");}};const searchHandle=async event=>{let key=event.target.value;if(key){let result=await fetch(\"\".concat(window.location.origin,\"/search/\").concat(key));result=await result.json();if(result){setProucts(result);}}else{getProducts();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-list\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"ProductList\"}),/*#__PURE__*/_jsx(\"input\",{type:\"\",className:\"search-product-box\",placeholder:\"Search Product\",onChange:searchHandle}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"S.NO.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Operation\"})]}),products.length>0?products.map((item,index)=>/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:index+1}),/*#__PURE__*/_jsx(\"li\",{children:item.name}),/*#__PURE__*/_jsx(\"li\",{children:item.price}),/*#__PURE__*/_jsx(\"li\",{children:item.category}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteProduct(item._id),children:\"Delete\"}),/*#__PURE__*/_jsx(Link,{to:\"/update/\"+item._id,children:\"Update\"})]})]},item._id)):/*#__PURE__*/_jsx(\"h1\",{children:\"No Result Found\"})]});};export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","ProductList","products","setProucts","getProducts","result","fetch","json","deleteProduct","id","console","warn","concat","method","alert","searchHandle","event","key","target","value","window","location","origin","className","children","type","placeholder","onChange","length","map","item","index","name","price","category","onClick","_id","to"],"sources":["J:/E-Comm-Dashboard/frontend/src/components/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst ProductList = () => {\r\n  const [products,setProucts]=useState([]);\r\n  useEffect(()=>{\r\n    getProducts();\r\n  },[])\r\n  const getProducts=async ()=>{\r\n    let result= await fetch('http://localhost:5000/products')\r\n    result=await result.json();\r\n\r\n    setProucts(result);\r\n  }\r\n  \r\n  const deleteProduct=async(id)=>{\r\n    console.warn(id)\r\n    let result=await fetch(`http://localhost:5000/products/${id}`,{\r\n      method:\"Delete\"\r\n\r\n    })\r\n    result=await result.json();\r\n    if (result){\r\n      getProducts()\r\n      alert(\"Product deleted\")\r\n    }\r\n  }\r\n  const searchHandle=async(event)=>{\r\n    let key=event.target.value;\r\n    if (key){\r\n      let result=await fetch(`${window.location.origin}/search/${key}`)\r\n      result=await result.json();\r\n      if(result){\r\n        setProucts(result)\r\n      }\r\n    }\r\n    else{\r\n      getProducts()\r\n    }\r\n    \r\n\r\n  }\r\n  return (\r\n    <div className='product-list'>\r\n      <h3>ProductList</h3>\r\n      <input type='' className='search-product-box' placeholder='Search Product' onChange={searchHandle}/>\r\n      <ul>\r\n    <li>S.NO.</li>\r\n    <li>Name</li>\r\n    <li>Price</li>\r\n    <li>Category</li>\r\n    <li>Operation</li>\r\n  </ul>\r\n  {\r\n   products.length>0 ? products.map((item,index)=>\r\n      <ul key={item._id}>\r\n    <li>{index+1}</li>\r\n    <li>{item.name}</li>\r\n    <li>{item.price}</li>\r\n    <li>{item.category}</li>\r\n    <li><button onClick={()=>deleteProduct(item._id)}>Delete</button>\r\n    <Link to={\"/update/\"+item._id}>Update</Link>\r\n    </li> \r\n  </ul>\r\n    )\r\n    :<h1>No Result Found</h1>\r\n  }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductList\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}